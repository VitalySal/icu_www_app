- content_for :title, t("upload.upload")

= render "utils/prev_next", prev: @prev, id: @upload.id, nixt: @next, namespace: :admin

.row
  .col-sm-12
    %table.table.table-bordered
      %tr
        %th= t("file")
        %td= link_to @upload.data_file_name, @upload.data.url, target: "upload"
      %tr
        %th= t("description")
        %td= @upload.description
      %tr
        %th= t("year")
        %td= @upload.year
      %tr
        %th= t("access.access")
        %td= t("access.#{@upload.access}")
      %tr
        %th= t("user.role.editor")
        %td= @upload.user.player.name
      %tr
        %th= "Content type"
        %td= @upload.data_content_type
      %tr
        %th= "Size"
        %td= @upload.data_file_size
      - if @upload.www1_path.present?
        %tr
          %th= "Old www1 path"
          %td= @upload.www1_path
      - unless @upload.updated_at == @upload.data_updated_at
        %tr
          %th= "File last updated"
          %td= @upload.data_updated_at.to_s(:nosec)
      = render "utils/timestamps", object: @upload, ability: :create
    - if can?(:update, @upload)
      = link_to t("edit"), edit_admin_upload_path(@upload), class: "btn btn-primary"
    - if can?(:destroy, @upload)
      = link_to t("delete"), admin_upload_path(@upload), data: { confirm: "Sure you want to delete this upload?" }, method: :delete, class: "btn btn-danger"
    - if path = last_search(:uploads)
      = link_to t("last_search"), path, class: "btn btn-default"
    - else
      = link_to t("upload.uploads"), uploads_path, class: "btn btn-default"

= render "admin/journal_entries/changes", entries: @entries
